<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Tic&nbsp;Tac&nbsp;Toe</title>
    <base target="_blank">
    <script type=”text/javascript”>
        if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){
            window.location = “tic-tac-toe-big.html”;
        }
</script>
    <style>
        * {
            font-family: Consolas, Menlo;
        }
        
        #header {
            background-color: black;
            color: white;
            text-align: center;
            padding: 1px;
        }
        
        div.main_text {
            text-align: center;
        }
    </style>
    <script>
        var game_thestatus = 0;
        var first = true;
        var grids = [];
        var your_turn = false;
        var player_shape = 'X';
        var thestatus = [0, -1, -1, -1, -1, -1, -1, -1, -1, -1];

        function start_game() {
            grids = [];
            thestatus = [0, -1, -1, -1, -1, -1, -1, -1, -1, -1];
            //console.log(game_thestatus);
            if (game_thestatus === 1) {
                return;
            } else {
                document.getElementById('start_button').innerHTML = '<del>START<\/del>';
            }
            for (var i = 1; i <= 9; i++) {
                grids.push(document.getElementById('g' + i.toString()));
            }
            //console.log(grids);
            for (var i in grids) {
                grids[i].innerHTML = '&nbsp;&nbsp;&nbsp;';
            }
            game_thestatus = 1;
            if (document.getElementsByName('who_first')[0].checked) {
                first = true;
                player_shape = 'X';
            } else if (document.getElementsByName('who_first')[1].checked) {
                first = false;
                player_shape = 'O';
            }
            document.getElementById('thestatus_bar').innerHTML = first ? 'Player first.' : 'Computer first.';
            if (first) {
                your_turn = true;
            } else {
                getAImove();
            }
        }

        function win(who) {
            if (who === 0) {
                document.getElementById('thestatus_bar').innerHTML = 'Player wins!';
                alert('Player wins!');
                document.getElementById('winsgames').innerHTML = parseInt(document.getElementById('winsgames').innerHTML) + 1
            } else if (who === 1) {
                document.getElementById('thestatus_bar').innerHTML = 'Computer wins!';
                alert('Computer wins!');
                document.getElementById('lossesgames').innerHTML = parseInt(document.getElementById('lossesgames').innerHTML) + 1
            } else if (who === 3) {
                document.getElementById('thestatus_bar').innerHTML = 'Draw!';
                alert('Draw!');
                document.getElementById('drawsgames').innerHTML = parseInt(document.getElementById('drawsgames').innerHTML) + 1
            } else {
                document.getElementById('thestatus_bar').innerHTML = 'Error!';
                alert('Error!');
            }
            your_turn = false;
            game_thestatus = 0;
            document.getElementById('start_button').innerHTML = '<b>START<\/b>';
        }

        function danger() {
            if (thestatus[1] == thestatus[2] && thestatus[1] == 1 && thestatus[3] == -1) {
                thestatus[3] = 2;
            }
            if (thestatus[1] == thestatus[3] && thestatus[1] == 1 && thestatus[2] == -1) {
                thestatus[2] = 2;
            }
            if (thestatus[2] == thestatus[3] && thestatus[2] == 1 && thestatus[1] == -1) {
                thestatus[1] = 2;
            }

            if (thestatus[4] == thestatus[6] && thestatus[4] == 1 && thestatus[5] == -1) {
                thestatus[5] = 2;
            }
            if (thestatus[4] == thestatus[5] && thestatus[4] == 1 && thestatus[6] == -1) {
                thestatus[6] = 2;
            }
            if (thestatus[6] == thestatus[5] && thestatus[5] == 1 && thestatus[4] == -1) {
                thestatus[4] = 2;
            }

            if (thestatus[9] == thestatus[7] && thestatus[9] == 1 && thestatus[8] == -1) {
                thestatus[8] = 2;
            }
            if (thestatus[7] == thestatus[8] && thestatus[7] == 1 && thestatus[9] == -1) {
                thestatus[9] = 2;
            }
            if (thestatus[9] == thestatus[8] && thestatus[8] == 1 && thestatus[7] == -1) {
                thestatus[7] = 2;
            }

            if (thestatus[1] == thestatus[4] && thestatus[1] == 1 && thestatus[7] == -1) {
                thestatus[7] = 2;
            }
            if (thestatus[4] == thestatus[7] && thestatus[4] == 1 && thestatus[1] == -1) {
                thestatus[1] = 2;
            }
            if (thestatus[7] == thestatus[1] && thestatus[7] == 1 && thestatus[4] == -1) {
                thestatus[4] = 2;
            }

            if (thestatus[2] == thestatus[5] && thestatus[2] == 1 && thestatus[8] == -1) {
                thestatus[8] = 2;
            }
            if (thestatus[5] == thestatus[8] && thestatus[5] == 1 && thestatus[2] == -1) {
                thestatus[2] = 2;
            }
            if (thestatus[8] == thestatus[2] && thestatus[8] == 1 && thestatus[5] == -1) {
                thestatus[5] = 2;
            }

            if (thestatus[3] == thestatus[6] && thestatus[3] == 1 && thestatus[9] == -1) {
                thestatus[9] = 2;
            }
            if (thestatus[6] == thestatus[9] && thestatus[6] == 1 && thestatus[3] == -1) {
                thestatus[3] = 2;
            }
            if (thestatus[9] == thestatus[3] && thestatus[9] == 1 && thestatus[6] == -1) {
                thestatus[6] = 2;
            }

            if (thestatus[7] == thestatus[5] && thestatus[7] == 1 && thestatus[3] == -1) {
                thestatus[3] = 2;
            }
            if (thestatus[5] == thestatus[3] && thestatus[5] == 1 && thestatus[7] == -1) {
                thestatus[7] = 2;
            }
            if (thestatus[3] == thestatus[7] && thestatus[3] == 1 && thestatus[5] == -1) {
                thestatus[5] = 2;
            }

            if (thestatus[1] == thestatus[5] && thestatus[1] == 1 && thestatus[9] == -1) {
                thestatus[9] = 2;
            }
            if (thestatus[5] == thestatus[9] && thestatus[5] == 1 && thestatus[1] == -1) {
                thestatus[1] = 2;
            }
            if (thestatus[1] == thestatus[9] && thestatus[1] == 1 && thestatus[5] == -1) {
                thestatus[5] = 2;
            }


            if (thestatus[1] == thestatus[2] && thestatus[1] == 0 && thestatus[3] == -1) {
                thestatus[3] = 3;
            }
            if (thestatus[1] == thestatus[3] && thestatus[1] == 0 && thestatus[2] == -1) {
                thestatus[2] = 3;
            }
            if (thestatus[2] == thestatus[3] && thestatus[2] == 0 && thestatus[1] == -1) {
                thestatus[1] = 3;
            }

            if (thestatus[4] == thestatus[6] && thestatus[4] == 0 && thestatus[5] == -1) {
                thestatus[5] = 3;
            }
            if (thestatus[4] == thestatus[5] && thestatus[4] == 0 && thestatus[6] == -1) {
                thestatus[6] = 3;
            }
            if (thestatus[6] == thestatus[5] && thestatus[5] == 0 && thestatus[4] == -1) {
                thestatus[4] = 3;
            }

            if (thestatus[9] == thestatus[7] && thestatus[9] == 0 && thestatus[8] == -1) {
                thestatus[8] = 3;
            }
            if (thestatus[7] == thestatus[8] && thestatus[7] == 0 && thestatus[9] == -1) {
                thestatus[9] = 3;
            }
            if (thestatus[9] == thestatus[8] && thestatus[8] == 0 && thestatus[7] == -1) {
                thestatus[7] = 3;
            }

            if (thestatus[1] == thestatus[4] && thestatus[1] == 0 && thestatus[7] == -1) {
                thestatus[7] = 3;
            }
            if (thestatus[4] == thestatus[7] && thestatus[4] == 0 && thestatus[1] == -1) {
                thestatus[1] = 3;
            }
            if (thestatus[7] == thestatus[1] && thestatus[7] == 0 && thestatus[4] == -1) {
                thestatus[4] = 3;
            }

            if (thestatus[2] == thestatus[5] && thestatus[2] == 0 && thestatus[8] == -1) {
                thestatus[8] = 3;
            }
            if (thestatus[5] == thestatus[8] && thestatus[5] == 0 && thestatus[2] == -1) {
                thestatus[2] = 3;
            }
            if (thestatus[8] == thestatus[2] && thestatus[8] == 0 && thestatus[5] == -1) {
                thestatus[5] = 3;
            }

            if (thestatus[3] == thestatus[6] && thestatus[3] == 0 && thestatus[9] == -1) {
                thestatus[9] = 3;
            }
            if (thestatus[6] == thestatus[9] && thestatus[6] == 0 && thestatus[3] == -1) {
                thestatus[3] = 3;
            }
            if (thestatus[9] == thestatus[3] && thestatus[9] == 0 && thestatus[6] == -1) {
                thestatus[6] = 3;
            }

            if (thestatus[7] == thestatus[5] && thestatus[7] == 0 && thestatus[3] == -1) {
                thestatus[3] = 3;
            }
            if (thestatus[5] == thestatus[3] && thestatus[5] == 0 && thestatus[7] == -1) {
                thestatus[7] = 3;
            }
            if (thestatus[3] == thestatus[7] && thestatus[3] == 0 && thestatus[5] == -1) {
                thestatus[5] = 3;
            }

            if (thestatus[1] == thestatus[5] && thestatus[1] == 0 && thestatus[9] == -1) {
                thestatus[9] = 3;
            }
            if (thestatus[5] == thestatus[9] && thestatus[5] == 0 && thestatus[1] == -1) {
                thestatus[1] = 3;
            }
            if (thestatus[1] == thestatus[9] && thestatus[1] == 0 && thestatus[5] == -1) {
                thestatus[5] = 3;
            }
        }

        function judge() {
            danger()
            if (
                (thestatus[1] === 0 && thestatus[2] === 0 && thestatus[3] === 0) ||
                (thestatus[4] === 0 && thestatus[5] === 0 && thestatus[6] === 0) ||
                (thestatus[7] === 0 && thestatus[8] === 0 && thestatus[9] === 0) ||
                (thestatus[1] === 0 && thestatus[4] === 0 && thestatus[7] === 0) ||
                (thestatus[2] === 0 && thestatus[5] === 0 && thestatus[8] === 0) ||
                (thestatus[3] === 0 && thestatus[6] === 0 && thestatus[9] === 0) ||
                (thestatus[3] === 0 && thestatus[5] === 0 && thestatus[7] === 0) ||
                (thestatus[1] === 0 && thestatus[5] === 0 && thestatus[9] === 0)
            ) {
                win(0);
            } else if (
                (thestatus[1] === 1 && thestatus[2] === 1 && thestatus[3] === 1) ||
                (thestatus[4] === 1 && thestatus[5] === 1 && thestatus[6] === 1) ||
                (thestatus[7] === 1 && thestatus[8] === 1 && thestatus[9] === 1) ||
                (thestatus[9] === 1 && thestatus[3] === 1 && thestatus[6] === 1) ||
                (thestatus[1] === 1 && thestatus[4] === 1 && thestatus[7] === 1) ||
                (thestatus[2] === 1 && thestatus[5] === 1 && thestatus[8] === 1) ||
                (thestatus[7] === 1 && thestatus[5] === 1 && thestatus[3] === 1) ||
                (thestatus[9] === 1 && thestatus[5] === 1 && thestatus[1] === 1)
            ) {
                win(1);
            } else if ((thestatus[1] == 0 || thestatus[1] == 1) && (thestatus[2] == 0 || thestatus[2] == 1) && (thestatus[3] == 0 || thestatus[3] == 1) && (thestatus[4] == 0 || thestatus[4] == 1) && (thestatus[5] == 0 || thestatus[5] == 1) && (thestatus[6] == 0 || thestatus[6] == 1) && (thestatus[7] == 0 || thestatus[7] == 1) && (thestatus[8] == 0 || thestatus[8] == 1) && (thestatus[9] == 0 || thestatus[9] == 1)) {
                win(3);
            } else {
                return true;
            }
        }

        function getAInum() {
            if (thestatus[1] == 0 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 5;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == 0 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 5;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == 0 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 5;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == 0) {
                return 5;
            }
            if (thestatus[1] == 0 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == 1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == 0) {
                return 2;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == 0 && thestatus[4] == -1 && thestatus[5] == 1 && thestatus[6] == -1 && thestatus[7] == 0 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 2;
            }
            if (thestatus[1] == 1 && thestatus[2] == 0 && thestatus[3] == 1 && thestatus[4] == 0 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 9;
            }
            if (thestatus[1] == 1 && thestatus[2] == 0 && thestatus[3] == -1 && thestatus[4] == 0 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 5;
            }
            if (thestatus[1] == 1 && thestatus[2] == 0 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == 0 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 5;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == 0 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 9;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == 0 && thestatus[9] == -1) {
                return 9;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == 0 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == 0 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == 1) {
                return 5;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == 0 && thestatus[8] == 0 && thestatus[9] == 1) {
                return 5;
            }
            //
            if (thestatus[1] == 1 && thestatus[2] == 0 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == 0 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 5;
            }
            if (thestatus[1] == 1 && thestatus[2] == 0 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == 0) {
                return 5;
            }
            if (thestatus[1] == 1 && thestatus[2] == -1 && thestatus[3] == 0 && thestatus[4] == 0 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 5;
            }
            if (thestatus[1] == 1 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == 0 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == 0) {
                return 5;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == 0 && thestatus[7] == 0 && thestatus[8] == -1 && thestatus[9] == 1) {
                return 5;
            }
            if (thestatus[1] == 0 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == 0 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == 1) {
                return 5;
            }
            if (thestatus[1] == 0 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == 0 && thestatus[9] == 1) {
                return 5;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == 0 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == 0 && thestatus[9] == 1) {
                return 5;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == 0 && thestatus[5] == -1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == 0 && thestatus[9] == 1) {
                return 5;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == 0 && thestatus[7] == -1 && thestatus[8] == 0 && thestatus[9] == 1) {
                return 5;
            }
            if (thestatus[1] == -1 && thestatus[2] == 0 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == -1 && thestatus[6] == 0 && thestatus[7] == -1 && thestatus[8] == -1 && thestatus[9] == 1) {
                return 5;
            }
            if (thestatus[1] == 0 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == 1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == 0 && thestatus[9] == -1) {
                return 7;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == 0 && thestatus[4] == -1 && thestatus[5] == 1 && thestatus[6] == -1 && thestatus[7] == -1 && thestatus[8] == 0 && thestatus[9] == -1) {
                return 9;
            }
            if (thestatus[1] == -1 && thestatus[2] == -1 && thestatus[3] == -1 && thestatus[4] == -1 && thestatus[5] == 1 && thestatus[6] == 0 && thestatus[7] == 0 && thestatus[8] == -1 && thestatus[9] == -1) {
                return 9;
            }
            //==================
            for (var i = 1; i <= 9; i++) {
                if (thestatus[i] == 2) {
                    return i;
                }
            }
            for (var i = 1; i <= 9; i++) {
                if (thestatus[i] == 3) {
                    return i;
                }
            }
            for (var i = 1; i <= 9; i++) {
                if ((i == 1 || i == 3 || i == 7 || i == 9) && thestatus[i] == -1) {
                    return i;
                }
            }
            for (var i = 1; i <= 9; i++) {
                if ((i == 2 || i == 4 || i == 6 || i == 8) && thestatus[i] == -1) {
                    return i;
                }
            }
        }

        function getAImove() {
            var the_move = getAInum();
            thestatus[the_move] = 1;
            grids[the_move - 1].innerHTML = first ? ' O ' : ' X ';
            your_turn = true;
            judge();
        }

        function clicks(x) {
            console.log(x);
            if (thestatus[x] == 0 || thestatus[x] == 1) {
                return;
            }
            if (!your_turn) {
                return;
            } else {
                your_turn = false;
            }
            thestatus[x] = 0;
            grids[x - 1].innerHTML = first ? ' X ' : ' O ';
            if (judge()) {
                getAImove();
            }
        }
    </script>
</head>

<body>
    <div id="header">
        <h1>Tic&nbsp;Tac&nbsp;Toe</h1>
        <h2>Online</h2>
        <h3>with&nbsp;AI</h3>
    </div>
    <div class="main_text">
        <br />
        <pre>
<button id="start_button" type="button" onclick="start_game()">START</button>
 <input type="radio" name="who_first" value="ply" checked>Player first  <input type="radio" name="who_first" value="com">Computer first

&plus;&minus;&minus;&minus;&plus;&minus;&minus;&minus;&plus;&minus;&minus;&minus;&plus;
|<a id='g1' onclick="clicks(1)">&nbsp;&nbsp;&nbsp;</a>|<a id='g2' onclick="clicks(2)">&nbsp;&nbsp;&nbsp;</a>|<a id='g3' onclick="clicks(3)">&nbsp;&nbsp;&nbsp;</a>|
&plus;&minus;&minus;&minus;&plus;&minus;&minus;&minus;&plus;&minus;&minus;&minus;&plus;
|<a id='g4' onclick="clicks(4)">&nbsp;&nbsp;&nbsp;</a>|<a id='g5' onclick="clicks(5)">&nbsp;&nbsp;&nbsp;</a>|<a id='g6' onclick="clicks(6)">&nbsp;&nbsp;&nbsp;</a>|
&plus;&minus;&minus;&minus;&plus;&minus;&minus;&minus;&plus;&minus;&minus;&minus;&plus;
|<a id='g7' onclick="clicks(7)">&nbsp;&nbsp;&nbsp;</a>|<a id='g8' onclick="clicks(8)">&nbsp;&nbsp;&nbsp;</a>|<a id='g9' onclick="clicks(9)">&nbsp;&nbsp;&nbsp;</a>|
&plus;&minus;&minus;&minus;&plus;&minus;&minus;&minus;&plus;&minus;&minus;&minus;&plus;

<span id='thestatus_bar'>Press START</span>
      </pre>
        <hr /> Wins: <span id="winsgames">0</span><br /> Draws: <span id="drawsgames">0</span><br /> Losses: <span id="lossesgames">0</span><br />
    </div>
</body>

</html>
